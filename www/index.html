<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head><title>list.it - a place to stash your information</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="content-language" content="en" />
    <link rel="stylesheet" type="text/css" href="css/listit.css" />
    <!--<link rel="stylesheet" type="text/css" href="css/homepage.css" />-->
    <link rel="stylesheet" type="text/css" href="css/soon.css" />

    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/jquery.dimensions.js"></script>
    <script type="text/javascript" src="js/jquery.accordion.js"></script>
    <script type="text/javascript" src="js/plum-util-ns.js"></script> 

    <script type="text/javascript">
<![CDATA[    
// for the background
var resetbackground = function() {
    $('#back').attr('width',$(window).width());
  //$('#back').attr('height',$(window).height());      
}

//$(window).resize(resetbackground);
//$(document).resize(resetbackground);
$(document).ready(resetbackground);
$(document).ready(function(){
    $(".feature-list").accordion({
	header: "div.feature-title",
	autoHeight:true,
	alwaysOpen: false,
        active:	""
    });	
});

    var BASE_URL = "/listit/jv3";

    var setmsg = function(msg) {
	if (msg && msg.length > 0) {
            $("#msg").html(msg);
	    $("#msg").fadeIn("fast");				    
	} else {
	    $("#msg").fadeOut("fast");
	}
    };
    var setok = function(ok) {
	if (ok) {
	    $("#submit").fadeIn("fast");
	    $("#submit").show();
	} else {
	    $("#submit").fadeOut("fast");
	}
    };

    var validateEmail = function(cont) {
	var emailval = $("#email").val();
	emailval = plumutil.trim(emailval);
	if (emailval.length == 0) {
	    return cont(false, "Email must not be blank");
	}
	if (!plumutil.isValidEmail(emailval)) {
	    return cont(false, "Not a valid e-mail address.");
	} else {
	    return jQuery.ajax({ type:"GET",
			  url: BASE_URL + "/userexists?email="+encodeURIComponent(emailval),
			  success: function(data,success, x) {
			      //success means that there exists already such an email adddr
			      cont(false,"Error. I already have an account for " + emailval + ".");				  
			  },
			  error: function(req,status) {
			      if (req.status == 404){
				  cont(true);
			      } else {
				  cont(false,"Uh oh the server seems to be down.");
			      }
			  }});
	}
    };

var validatePass = function(cont) {
    var p1 = $("#pass1").val();
    var p2 = $("#pass2").val();
    p1 = plumutil.trim(p1);
    p2 = plumutil.trim(p2);
    if (p1.length > 3) {
	if (p1 == p2) {
	    return cont(true);
	} else {
	    return cont(false, "Your passwords don't seem to match. Try re-typing?");
	}
    }
    cont(false, "Passwords must have more than 3 characters");    
};

var sendCreateRequest = function() {
    var emailval = $("#email").val();
    var p1 = $("#pass1").val();
    var couhes  = $("#consent")[0].checked && $("#participate")[0].checked;
    var firstname ="", lastname = "";
    
    if (couhes) {
	firstname = $("#firstname").val();
	lastname = $("#lastname").val();
    }
    
    setok(false);
    setmsg("Sending request...");

    var cont = function(success, info) {
	if (success) {
	    setmsg();
	    setmsg("An email has been sent to " + emailval);
	} else {
	    setmsg();
	    setmsg(info);
	}
    };
    return jQuery.ajax({ type:"POST",
			  url: BASE_URL + "/createuser/",
			 data:({ username: emailval, password: p1, couhes:couhes, firstname: firstname, lastname: lastname }),
			 success: function(data,success) {
			     //success means that there exists already such an email adddr
			     cont(true);
			 },
			 error: function(data,status) {
			     cont(false,data.responseText);
			 }
		       });
    
}

    var validate = function() {
	var cont = function(ok, msg) {
	    if (ok) {
		setok(true);
		setmsg("");
	    } else {
		setok(false);
		setmsg(msg);
	    }
	};
	validateEmail(function(ok,msg) {
	    if (!ok) { cont(ok,msg); }
	    else {
		validatePass(function(ok,msg) {
		    if (!ok) { cont(ok,msg); }
		    else {
			if ($("#participate")[0].checked) {
			    if (plumutil.trim($("#firstname").val()).length > 0 && plumutil.trim($("#lastname").val()).length > 0 ){
				$("#consent").attr("disabled",false);
				if ($("#consent")[0].checked) {
				    cont(true);
				} else {
				    cont(false,"Please consent to participate in the study, or uncheck the Paricipate in Study check mark above.");
				}
			    } else {
				// names not blank
				$("#consent").attr("disabled",true);
				cont(false,"Please supply your first and last name and consent to participate in the study, or uncheck the Paricipate in Study check mark above.");
			    }
			} else {
			    cont(true);
			}
		    }});
	    }			    
	});
    };
    $(document).ready(function() {
	setok(false);
	setmsg("");
	$("input:checked").attr("checked",false);
	$("#consent").attr("disabled",true);

        $("#email").keyup(function() {
	    validate();
	});
	$("#pass1").keyup(function() {
	    validate();
	});
	$("#pass2").keyup(function() {
	    validate();
	});
	$("#submit").click(function() {
	    sendCreateRequest();
	});	
 	$("#participate").click(function() {
	    validate();
 	    if ($("#participate")[0].checked)  {
	     	$("#couhes").fadeIn();
	    } else {
	         $("#couhes").fadeOut();
	    }
	});
	$("#firstname").keyup(function() {
	   validate();	   
	});
	$("#lastname").keyup(function() {
	   validate();	   
	});
	$("#consent").click(function() {
	    validate();
	    signeddate = new Date();
	    if ($("#consent")[0].checked) {
		$("#consentdate").html( "" + (new Date()) );
		$("#consentdate").fadeIn();		
	    } else {
		$("#consentdate").fadeOut();
	    }
	});
    });
    </script>	
  </head>

  <body style="margin: 0;">
    <div id="topbar" class="topbar">
      <center>
        <table width="720" class="normal" cellpadding="0" cellspacing="0">
          <tr valign="bottom">

            <td style="padding-top:0px; font-weight: bold; margin: 5px">
	      <div class="topbartitle"><span style="font-size: 72px;">list<span style="font-size:36px;"><span style="color:#fca11f">.</span>it</span></span></div>
            </td>

	    <td align="right">
	      <a href="http://haystack.csail.mit.edu">Haystack Home</a>
	      | list.it
	      | <a href="http://plum.csail.mit.edu/">jourknow</a> 
	      | <a href="http://plum.csail.mit.edu/">PLUM</a> 
	      | <a href="http://simile.mit.edu/exhibit/">Exhibit</a> 
	      | <a href="http://relo.csail.mit.edu/">Relo</a> 
              | <a href="http://groups.csail.mit.edu/haystack/">haystack</a> 

            </td>
          </tr>
        </table>
    </center>
    </div>
   <img id="back" src="imgs/postits-sm.jpg" style="z-index:-1; position:absolute; left:0px; top:1in; right:0px; bottom:0px;" alt="post-its"/>
    <center>
    <table width="720" cellpadding="0" cellspacing="0" border="0">
	<tr>
	<td>
	    <div id="main">
	       <h2><span style="font-size: 24pt;">list</span><span style="font-size:16pt;"><span style="color:#fca11f">.</span>it</span>
	         -- <span style="font-weight:normal">before you forget it!</span></h2>
		 <p>
	      <b>list<span style="color:#fca11f">.</span>it</b>, the <b>L</b>atitudinal <b>I</b>nformation <b>S</b>crap <b>T</b>rapper that <b>I</b>ndexes
	      <b>T</b>hings - is a small, simple note-keeping tool for solving a big, complex task -- helping you manage all of the little
	      bits of information you need to keep track of each day .</p>

	      <p><b>list<span style="color:#fca11f">.</span>it</b> does this by focusing on <i>speed</i> and <i>simplicity</i>.  We have
	      gotten rid of everything except a way to get things in and out <i>quickly</i>, so that you can get things out of your head
	      and somewhere you can access easily any time.</p>
	      
	      <p/>
      	      <h2>news</h2>
               <ul class="feature-list">
	       <li>
	       <div class="feature-title"><img class="listdot" src="imgs/orangedot.png" alt="dot"/>aug.12 - list.it v.0.2 released!</div>
	       <div class="feature-description" >
	         We are happy to announce version 0.2 of list.it is ready for download.  This version
		 supports server synchronisation, better stability, and a new semitranslucent UI!
		 <a href="mailto:jourknow-dev@csail.mit.edu">Let us know</a> what you think.		 
	       </div>
	       </li>
	      </ul>
	      <p/>
	      <h2>features</h2>
	      <ul id="features" class="feature-list">	      
	      <li>
		  <div class="feature-title"><img class="listdot" src="imgs/orangedot.png" alt="dot"/>Simple Browser-Sidebar interface</div>
		  <div class="feature-description">
		  <div>
  		  <img src="imgs/input.png" class="screenshot" alt="screen shot" width="100"/>
		    <b>list<span style="color:#fca11f">.</span>it</b> lives in your Firefox browser sidebar, which
		    can be pulled up and pulled away using a customizable hot key.<!--    At the top is a search box and a note input box; under that are your notes. -->
		   </div>
		  </div>
  	      </li>

	      <li>
		  <div class="feature-title"><img class="listdot" src="imgs/orangedot.png" alt="dot"/>Quick input box</div>
		  <div class="feature-description">
		   <p>Sometimes you just need to write it down. Use the quick input box to get it in, and get on with the rest of your life.<Br>
		   	       <img src="imgs/inputbox.png" alt="screen shot" width="400" style="margin:14px; "/>
 	           </p> 
		  </div>
		</li>

	      <li>
		 <div class="feature-title"><img class="listdot" src="imgs/orangedot.png" alt="dot"/>Automatic sync & backup</div>
		 <div class="feature-description">If you register for our free sync service, your notes will be securely backed up
		 so you don't have to worry about losing information. And, if you install list.it on multiple computers,
		 your notes will be mirrored to all of them.  </div>
	      </li>

	      <li>
		 <div class="feature-title"><img class="listdot" src="imgs/orangedot.png" alt="dot"/>Contribute to science!</div>
		 <div class="feature-description">
		 <p>A primary reason for building list.it tool is as an instrument to study how people keep and use
		 information, so that we can figure out ways to build better tools.</p>
		 <p>When you sign up for list.it sync service, you can volunteer to donate your notes to science.
		 We will in turn study them to figure out how you take notes and how to better improve List.it and other tools.
  	      </div>
	      </li>	      	      
	      </ul>
	      <p/>
     	      <h2>get.it!</h2>
     	      <ul class="feature-list">
	      <li>
	      <div class="feature-title"><img class="listdot" src="imgs/orangedot.png" alt="dot"/>Download now!</div>
	      <div id="getit-description" class="feature-description">

	      <div id="register">
 	       <div><div class="useremail">your <b>email</b>:</div><input id="email" name="email"/></div>
	       <div><div class="useremail">choose a <b>password</b>:</div><input id="pass1" type="password" style="width:100%"></input></div>
 	       <div><div class="useremail">type your <b>password again</b>:</div><input id="pass2" type="password" style="width:100%"></input></div>
	       <div><div class="useremail">participate in our study?</div><input type="checkbox" id="participate"></input></div>
	       <div id="couhes" style="display:none;">
	         <p>Thank you for your interest in helping us ith our research. Please review the documentbelow, which utlines what we are doing and
  	        why, as well as important information regarding how the data we are collecting about	your note taking habits will be used and
	        handled. <p>(You can return to the document later <a href="http://projects.csail.mit.edu/jourknow/jv3/deploy/couhes.html">here</a>)

		<iframe style="width:100%;height:100px;border:1px;" src="http://projects.csail.mit.edu/jourknow/jv3/deploy/couhes.html"></iframe>
	        <br>
	        <p>If you agree to the terms of the document and wish to participate, please provide:</p>
	        <div><div class="useremail"> your <b>first name</b>:</div><input type="text" id="firstname"></input></div>
	        <div><div class="useremail"> your <b>last name</b>:</div><input type="text" id="lastname"></input></div>
	        <div><div class="useremail"> I agree to the terms of the study</div> <input type="checkbox" id="consent" name="consent"/></div>
	        <div><div class="useremail">date: </div><span id="consentdate" style="display:none;">)</span></div>
	        </p>
	      </div> <!-- couhes -->
	      <input id="submit" name="submit" type="button" style="hidden:true;" value="Register me"></input>
	      <div id="msg" style="color:rgb(250,150,150);">test<div/>
	    </div> <!-- register -- >	    
            <div class="terms">
	         <p>
	         Terms and conditions:
		 </p><p>
		 This software is licensed under the MIT License.
 		 </p><p>
		  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS
		  AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED
		  WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
		  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
		  FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
		  SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
		  FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
		  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
		  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
		  SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
		  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
		  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
		  CHOCOLATE TORTE (INCLUDING NEGLIGENCE OR OTHERWISE)
		  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
		  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
		  </p>
	    	    <a href="../jv3.xpi" ><span style="font-size:120%; font-weight:bold; text-align:center;">install List.it!</span></a> (Requires Firefox 3.0+)
   	     </div>	     
      </li> <!-- get it! -->
      </ul>	      
    </div> <!-- main panel --> 
 </td>
</tr>
      </table>
      </center>
  </body>
</html>
